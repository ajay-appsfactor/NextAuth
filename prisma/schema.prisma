generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("CLOUD_POSTGRESQL_DATABASE_URL")
}

enum Role {
  admin
  customer
  superadmin
}

model User {
  id         Int       @default(autoincrement())
  user_key   String    @id @unique @default(cuid())
  first_name String
  last_name  String
  email      String    @unique
  password   String
  customer  Customer[]
  role       Role      @default(customer)
  created_at DateTime  @default(now())
  updated_at DateTime  @updatedAt
  deleted_at DateTime?
}


model Customer{
  id Int  @default(autoincrement())
  user_key String  @id @default(cuid())
  user    User @relation(fields: [user_key], references: [user_key])
  first_name String?
  last_name String?
  email String? @unique
  company String?
  address String?
  city String?
  state String?
  zip String?
  country String?
  phone String?
  mobile String?
  shipping_first_name String?
  shipping_last_name String?
  shipping_company String?
  shipping_address String?
  shipping_city String?
  shipping_state String?
  shipping_zip String?
  shipping_country String?
  shipping_phone String?
  shipping_mobile String?
  send_invoice String?
  conformance String?
  terms String?
  freight String?
  customer_note String? @db.VarChar(250)
  quality_note String? @db.VarChar(250)
  accounting_note String? @db.VarChar(250)
  shipping_note String? @db.VarChar(250)
  sales_note String? @db.VarChar(250)
  about String? @db.VarChar(250)
  gender String?    @default("UNKNOWN")
  sorting Int @default(0)
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
  deleted_at DateTime?
}
